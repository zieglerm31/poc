{"name":"IRSbyMTlegUser_sample","steps":[{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"callStart.NONE","event-label":"h3irs_staging","call":{"legs":[{"name":null,"address":{"scheme":"tel","user":"43654220740","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},{"name":null,"address":{"scheme":"tel","user":"436609660811","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}}}],"state":"START"},"as":"tt-b52-vtas3-seese-0003_1","event-additional-info":{"tracingmsg":"IRSbyMTlegUser","tracinglist":"h3irs_staging","dispatcherresult":"ocadmin_irsocadminv5:h3irs:h3irs_InternationalRoamingService_main","tracingid":"436609660811","traceIndented":false},"event":{"name":"callStart","callStart":{"cause":"NONE","contact":{"scheme":"tel","user":"436609660811","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}},"leg":{"scheme":"tel","user":"43654220740","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},"id":0,"camel":{"networkProtocol":"CAMEL3","addCgPa":{"scheme":"tel","user":"435027224940","parameters":{"presentation":"0","screening":"0","number-qualifier-ind":"6","number-incomplete-ind":"0","network-context":"Q763.4.1"}},"charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"46735483165","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":12,"extnBearerServiceCode":"16","tcapEndMode":"PAYLOAD_TC_END","imsi":"232056311203245","disconnectedFlag":false,"rawBearerCapability":"90902348003BDD"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990071500","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"436990071301","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1720786247144,"networkCallType":"TERMINATING","mediaType":"AUDIO","callReleaseTime":0,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"43","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"436990071301","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":12,"highLayerCharacteristics":-1,"callReferenceNumber":"62000100671E8B9B"}},"event-label-match":false,"callid":"tt-b52-vtas3-seese-0003_1-1720786247145-CALL-1-AppSess-57","starttime":1720786247146,"event-type":"camel"},"original-event":{"event-name":"callStart.NONE","event-label":"h3irs_staging","call":{"legs":[{"name":null,"address":{"scheme":"tel","user":"43654220740","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},{"name":null,"address":{"scheme":"tel","user":"436609660811","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}}}],"state":"START"},"as":"tt-b52-vtas3-seese-0003_1","event-additional-info":{"tracingmsg":"IRSbyMTlegUser","tracinglist":"h3irs_staging","dispatcherresult":"ocadmin_irsocadminv5:h3irs:h3irs_InternationalRoamingService_main","tracingid":"436609660811","traceIndented":false},"event":{"name":"callStart","callStart":{"cause":"NONE","contact":{"scheme":"tel","user":"436609660811","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}},"leg":{"scheme":"tel","user":"43654220740","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},"id":0,"camel":{"networkProtocol":"CAMEL3","addCgPa":{"scheme":"tel","user":"435027224940","parameters":{"presentation":"0","screening":"0","number-qualifier-ind":"6","number-incomplete-ind":"0","network-context":"Q763.4.1"}},"charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"46735483165","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":12,"extnBearerServiceCode":"16","tcapEndMode":"PAYLOAD_TC_END","imsi":"232056311203245","disconnectedFlag":false,"rawBearerCapability":"90902348003BDD"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990071500","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"436990071301","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1720786247144,"networkCallType":"TERMINATING","mediaType":"AUDIO","callReleaseTime":0,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"43","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"436990071301","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":12,"highLayerCharacteristics":-1,"callReferenceNumber":"62000100671E8B9B"}},"event-label-match":false,"callid":"tt-b52-vtas3-seese-0003_1-1720786247145-CALL-1-AppSess-57","starttime":1720786247146,"event-type":"camel"},"description":"","entry":"callStart.NONE","timestamp":1720786247155,"state":"114"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(|(romscgt=436990071301)(romscgt=436990071301)(romscgt=43699007130)(romscgt=4369900713)(romscgt=436990071)(romscgt=43699007)(romscgt=4369900)(romscgt=436990)(romscgt=43699)(romscgt=4369)(romscgt=436)(romscgt=43))","time-limit":0,"filter-generator-name":"romscgt","deref":"never","cache-ttl-ms":0,"scope":"one"},"base-dn":"app=mscroaming,dc=apd","hierarchical":"false"},"uri":"/search"},"event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(|(romscgt=436990071301)(romscgt=436990071301)(romscgt=43699007130)(romscgt=4369900713)(romscgt=436990071)(romscgt=43699007)(romscgt=4369900)(romscgt=436990)(romscgt=43699)(romscgt=4369)(romscgt=436)(romscgt=43))","time-limit":0,"filter-generator-name":"romscgt","deref":"never","cache-ttl-ms":0,"scope":"one"},"base-dn":"app=mscroaming,dc=apd","hierarchical":"false"},"uri":"/search"},"description":"LDAP search","entry":"success","timestamp":1720786247173,"state":"342","sequence":5,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"ldap.status.1000","headers":{"X-LDAP-backend-pool":"sit","Content-Type":"application/json","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":1000,"body":[{"natprefix":"0","ni":"0","objectClass":["mscroaming"],"voicemailflag":"FALSE","labapd":"hagerma","mscgt":"436990071301","videomailflag":"TRUE","roampartnername":"null","mccmnc":"null","CountryCode":"43","latapd":"Updated","selectivererouting":"0","capversion":"3","intprefix":"00","reroutingind":"FALSE","dn":"romscgt=436990071301,app=mscroaming,dc=apd","lawapd":"1634554398828756","timeoffset":"60","reroutingprefix":"NULL","romscgt":"436990071301","optimizedroutingflag":"TRUE"}],"event-type":"ldap"},"original-event":{"event-name":"ldap.status.1000","headers":{"X-LDAP-backend-pool":"sit","Content-Type":"application/json","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":1000,"body":[{"natprefix":"0","ni":"0","objectClass":["mscroaming"],"voicemailflag":"FALSE","labapd":"hagerma","mscgt":"436990071301","videomailflag":"TRUE","roampartnername":"null","mccmnc":"null","CountryCode":"43","latapd":"Updated","selectivererouting":"0","capversion":"3","intprefix":"00","reroutingind":"FALSE","dn":"romscgt=436990071301,app=mscroaming,dc=apd","lawapd":"1634554398828756","timeoffset":"60","reroutingprefix":"NULL","romscgt":"436990071301","optimizedroutingflag":"TRUE"}],"event-type":"ldap"},"description":"handle LDAP","entry":"ldap.status.1000","timestamp":1720786247205,"state":"343","sequence":6,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(objectClass=*)","time-limit":0,"deref":"always","cache-ttl-ms":0,"scope":"sub"},"base-dn":"amsisdn=436609660811,type=public,type=alias,dc=cpd4","hierarchical":"false"},"uri":"/search"},"event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(objectClass=*)","time-limit":0,"deref":"always","cache-ttl-ms":0,"scope":"sub"},"base-dn":"amsisdn=436609660811,type=public,type=alias,dc=cpd4","hierarchical":"false"},"uri":"/search"},"description":"LDAP search","entry":"success","timestamp":1720786247214,"state":"285","sequence":10,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"ldap.status.32","headers":{"X-LDAP-backend-pool":"sit","X-LDAP-explain":"no such object","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":32,"body":[],"event-type":"ldap"},"original-event":{"event-name":"ldap.status.32","headers":{"X-LDAP-backend-pool":"sit","X-LDAP-explain":"no such object","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":32,"body":[],"event-type":"ldap"},"description":"Terminate call","entry":"ldap.status.32","timestamp":1720786247229,"state":"309","sequence":11,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"event-name":"tas.cap.abortCall","as":null,"id":0,"callid":"tt-b52-vtas3-seese-0003_1-1720786247145-CALL-1-AppSess-57","action":{"type":0,"cause":"REJECTED"},"eventname":"callStart","starttime":1720786247146,"event-type":"tas-cap"},"event":{"event-name":"tas.cap.abortCall","as":null,"id":0,"callid":"tt-b52-vtas3-seese-0003_1-1720786247145-CALL-1-AppSess-57","action":{"type":0,"cause":"REJECTED"},"eventname":"callStart","starttime":1720786247146,"event-type":"tas-cap"},"description":"Terminate call","entry":"ldap.status.32","timestamp":1720786247229,"state":"309","sequence":11,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"callEnd","as":"tt-b52-vtas3-seese-0003_1","event":{"name":"callEnd","id":1,"camel":{"networkProtocol":"CAMEL3","addCgPa":{"scheme":"tel","user":"435027224940","parameters":{"presentation":"0","screening":"0","number-qualifier-ind":"6","number-incomplete-ind":"0","network-context":"Q763.4.1"}},"charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"46735483165","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":12,"extnBearerServiceCode":"16","tcapEndMode":"PAYLOAD_TC_END","imsi":"232056311203245","disconnectedFlag":false,"rawBearerCapability":"90902348003BDD"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990071500","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"436990071301","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1720786247144,"networkCallType":"TERMINATING","mediaType":"AUDIO","callReleaseTime":1720786247236,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"43","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"436990071301","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":12,"highLayerCharacteristics":-1,"callReferenceNumber":"62000100671E8B9B"},"callEnd":{"cause":"REJECTED"}},"callid":"tt-b52-vtas3-seese-0003_1-1720786247145-CALL-1-AppSess-57","starttime":1720786247237,"event-type":"camel"},"original-event":{"event-name":"callEnd","as":"tt-b52-vtas3-seese-0003_1","event":{"name":"callEnd","id":1,"camel":{"networkProtocol":"CAMEL3","addCgPa":{"scheme":"tel","user":"435027224940","parameters":{"presentation":"0","screening":"0","number-qualifier-ind":"6","number-incomplete-ind":"0","network-context":"Q763.4.1"}},"charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"46735483165","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":12,"extnBearerServiceCode":"16","tcapEndMode":"PAYLOAD_TC_END","imsi":"232056311203245","disconnectedFlag":false,"rawBearerCapability":"90902348003BDD"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990071500","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"436990071301","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1720786247144,"networkCallType":"TERMINATING","mediaType":"AUDIO","callReleaseTime":1720786247236,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"43","parameters":{"internal-net-number-ind":"0","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"436990071301","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":12,"highLayerCharacteristics":-1,"callReferenceNumber":"62000100671E8B9B"},"callEnd":{"cause":"REJECTED"}},"callid":"tt-b52-vtas3-seese-0003_1-1720786247145-CALL-1-AppSess-57","starttime":1720786247237,"event-type":"camel"},"description":"Stop","entry":"callEnd","timestamp":1720786247243,"state":"261","sequence":12,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"}],"flow":"h3irs_InternationalRoamingService_main","state":{},"description":"this is an MT call with user not found and call release ","tags":"RTEv5,Functional,MT,UserNotfound"}