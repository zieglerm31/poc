{"name":"IRS_test3","steps":[{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"callStart.NONE","event-label":"h3irs_staging","call":{"legs":[{"name":null,"address":{"scheme":"tel","user":"436608226005","parameters":{"presentation":"0","screening":"1","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},{"name":null,"address":{"scheme":"tel","user":"43800303256","parameters":{"network-context":"TS24008.1.1"}}}],"state":"START"},"as":"tt-b52-vtas3-seese-0003_3","event-additional-info":{"tracingmsg":"IRSbyLeg0User","tracinglist":"h3irs_staging","dispatcherresult":"stagingset","tracingid":"436608226005","traceIndented":false},"event":{"name":"callStart","callStart":{"cause":"NONE","contact":{"scheme":"tel","user":"43800303256","parameters":{"network-context":"TS24008.1.1"}},"leg":{"scheme":"tel","user":"436608226005","parameters":{"presentation":"0","screening":"1","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},"id":0,"camel":{"networkProtocol":"CAMEL2","locationInformation":"cgid:22210f4e733ebd","charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"393492000093","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":2,"tcapEndMode":"PAYLOAD_TC_END","imsi":"232056317208974","disconnectedFlag":false,"extnTeleServiceCode":"11","rawBearerCapability":"8090A3"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990081523","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"393492000093","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1719301480903,"networkCallType":"ORIGINATING","mediaType":"AUDIO","callReleaseTime":0,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"393492000093","parameters":{"internal-net-number-ind":"1","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"393492000093","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":2,"highLayerCharacteristics":37249,"callReferenceNumber":"401E70170695BD"}},"event-label-match":false,"callid":"tt-b52-vtas3-seese-0003_3-1719301480904-CALL-1-AppSess-202","event-type":"camel"},"original-event":{"event-name":"callStart.NONE","event-label":"h3irs_staging","call":{"legs":[{"name":null,"address":{"scheme":"tel","user":"436608226005","parameters":{"presentation":"0","screening":"1","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},{"name":null,"address":{"scheme":"tel","user":"43800303256","parameters":{"network-context":"TS24008.1.1"}}}],"state":"START"},"as":"tt-b52-vtas3-seese-0003_3","event-additional-info":{"tracingmsg":"IRSbyLeg0User","tracinglist":"h3irs_staging","dispatcherresult":"stagingset","tracingid":"436608226005","traceIndented":false},"event":{"name":"callStart","callStart":{"cause":"NONE","contact":{"scheme":"tel","user":"43800303256","parameters":{"network-context":"TS24008.1.1"}},"leg":{"scheme":"tel","user":"436608226005","parameters":{"presentation":"0","screening":"1","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},"id":0,"camel":{"networkProtocol":"CAMEL2","locationInformation":"cgid:22210f4e733ebd","charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"393492000093","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":2,"tcapEndMode":"PAYLOAD_TC_END","imsi":"232056317208974","disconnectedFlag":false,"extnTeleServiceCode":"11","rawBearerCapability":"8090A3"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990081523","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"393492000093","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1719301480903,"networkCallType":"ORIGINATING","mediaType":"AUDIO","callReleaseTime":0,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"393492000093","parameters":{"internal-net-number-ind":"1","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"393492000093","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":2,"highLayerCharacteristics":37249,"callReferenceNumber":"401E70170695BD"}},"event-label-match":false,"callid":"tt-b52-vtas3-seese-0003_3-1719301480904-CALL-1-AppSess-202","event-type":"camel"},"description":"","entry":"callStart.NONE","timestamp":1719502928174,"state":"114","sequence":1,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(|(romscgt=393492000093)(romscgt=393492000093)(romscgt=39349200009)(romscgt=3934920000)(romscgt=393492000)(romscgt=39349200)(romscgt=3934920)(romscgt=393492)(romscgt=39349)(romscgt=3934)(romscgt=393)(romscgt=39))","time-limit":0,"filter-generator-name":"romscgt","deref":"never","cache-ttl-ms":0,"scope":"one"},"base-dn":"app=mscroaming,dc=apd","hierarchical":"false"},"uri":"/search"},"event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(|(romscgt=393492000093)(romscgt=393492000093)(romscgt=39349200009)(romscgt=3934920000)(romscgt=393492000)(romscgt=39349200)(romscgt=3934920)(romscgt=393492)(romscgt=39349)(romscgt=3934)(romscgt=393)(romscgt=39))","time-limit":0,"filter-generator-name":"romscgt","deref":"never","cache-ttl-ms":0,"scope":"one"},"base-dn":"app=mscroaming,dc=apd","hierarchical":"false"},"uri":"/search"},"description":"LDAP search","entry":"success","timestamp":1719502928181,"state":"342","sequence":4,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"ldap.status.1000","headers":{"X-LDAP-backend-pool":"sit","Content-Type":"application/json","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":1000,"body":[{"natprefix":"0","ni":"2","objectClass":["mscroaming"],"voicemailflag":"TRUE","continent":"Europe","labapd":"INITLOAD","mscgt":"39349","videomailflag":"FALSE","roampartnername":"Vodafone Italia S.p.A","mccmnc":"22210","CountryCode":"39","latapd":"Updated","selectivererouting":"2","capversion":"2","intprefix":"00","reroutingind":"TRUE","dn":"romscgt=39349,app=mscroaming,dc=apd","lawapd":"1677071944645384","timeoffset":"99","reroutingprefix":"4366030381","romscgt":"39349","optimizedroutingflag":"TRUE","tapcode":"ITAOM"}],"event-type":"ldap"},"original-event":{"event-name":"ldap.status.1000","headers":{"X-LDAP-backend-pool":"sit","Content-Type":"application/json","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":1000,"body":[{"natprefix":"0","ni":"2","objectClass":["mscroaming"],"voicemailflag":"TRUE","continent":"Europe","labapd":"INITLOAD","mscgt":"39349","videomailflag":"FALSE","roampartnername":"Vodafone Italia S.p.A","mccmnc":"22210","CountryCode":"39","latapd":"Updated","selectivererouting":"2","capversion":"2","intprefix":"00","reroutingind":"TRUE","dn":"romscgt=39349,app=mscroaming,dc=apd","lawapd":"1677071944645384","timeoffset":"99","reroutingprefix":"4366030381","romscgt":"39349","optimizedroutingflag":"TRUE","tapcode":"ITAOM"}],"event-type":"ldap"},"description":"handle LDAP","entry":"ldap.status.1000","timestamp":1719502928202,"state":"343","sequence":5,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(objectClass=*)","time-limit":0,"deref":"always","cache-ttl-ms":0,"scope":"sub"},"base-dn":"amsisdn=436608226005,type=public,type=alias,dc=cpd4","hierarchical":"false"},"uri":"/search"},"event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(objectClass=*)","time-limit":0,"deref":"always","cache-ttl-ms":0,"scope":"sub"},"base-dn":"amsisdn=436608226005,type=public,type=alias,dc=cpd4","hierarchical":"false"},"uri":"/search"},"description":"LDAP search","entry":"success","timestamp":1719502928209,"state":"273","sequence":9,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"ldap.status.32","headers":{"X-LDAP-backend-pool":"sit","X-LDAP-explain":"no such object","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":32,"body":[],"event-type":"ldap"},"original-event":{"event-name":"ldap.status.32","headers":{"X-LDAP-backend-pool":"sit","X-LDAP-explain":"no such object","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":32,"body":[],"event-type":"ldap"},"description":"Terminate call","entry":"ldap.status.32","timestamp":1719502928225,"state":"309","sequence":10,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"event-name":"tas.cap.abortCall","as":null,"id":0,"callid":"tt-b52-vtas3-seese-0003_3-1719301480904-CALL-1-AppSess-202","action":{"type":0,"cause":"REJECTED"},"eventname":"callStart","starttime":null,"event-type":"tas-cap"},"event":{"event-name":"tas.cap.abortCall","as":null,"id":0,"callid":"tt-b52-vtas3-seese-0003_3-1719301480904-CALL-1-AppSess-202","action":{"type":0,"cause":"REJECTED"},"eventname":"callStart","starttime":null,"event-type":"tas-cap"},"description":"Terminate call","entry":"ldap.status.32","timestamp":1719502928225,"state":"309","sequence":10,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"}],"flow":"h3irs_InternationalRoamingService_main","state":{},"description":"this testcase shows a user-not-found in CPD4 with response 32 and a release call.","tags":"RTEv5,Functional,UserNotFound"}