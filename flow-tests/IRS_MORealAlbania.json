{"name":"IRS_MORealAlbania","steps":[{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"callStart.NONE","event-label":"h3irs_staging","call":{"legs":[{"name":null,"address":{"scheme":"tel","user":"436607992960","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},{"name":null,"address":{"scheme":"tel","user":"355672001627","parameters":{"network-context":"TS24008.1.1"}}}],"state":"START"},"as":"tt-b52-vtas3-seese-0003_1","event-additional-info":{"tracingmsg":"IRSbyMOlegUser","tracinglist":"h3irs_staging","dispatcherresult":"ocadmin_irsocadminv5:h3irs:h3irs_InternationalRoamingService_main","tracingid":"436607992960","traceIndented":false},"header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"event":{"name":"callStart","callStart":{"cause":"NONE","contact":{"scheme":"tel","user":"355672001627","parameters":{"network-context":"TS24008.1.1"}},"leg":{"scheme":"tel","user":"436607992960","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},"id":0,"camel":{"networkProtocol":"CAMEL2","locationInformation":"cgid:27601f30760727","charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":2,"tcapEndMode":"PAYLOAD_TC_END","imsi":"232056317208975","disconnectedFlag":false,"extnTeleServiceCode":"11","rawBearerCapability":"8090A3"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990081523","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1721733724145,"networkCallType":"ORIGINATING","mediaType":"AUDIO","callReleaseTime":0,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"27601124061831","parameters":{"internal-net-number-ind":"1","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"355680200009","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":2,"highLayerCharacteristics":-1,"callReferenceNumber":"428D5B0001"}},"event-label-match":false,"callid":"tt-b52-vtas3-seese-0003_1-1721733724146-CALL-1-AppSess-66","starttime":1721733724147,"event-type":"camel"},"original-event":{"event-name":"callStart.NONE","event-label":"h3irs_staging","call":{"legs":[{"name":null,"address":{"scheme":"tel","user":"436607992960","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},{"name":null,"address":{"scheme":"tel","user":"355672001627","parameters":{"network-context":"TS24008.1.1"}}}],"state":"START"},"as":"tt-b52-vtas3-seese-0003_1","event-additional-info":{"tracingmsg":"IRSbyMOlegUser","tracinglist":"h3irs_staging","dispatcherresult":"ocadmin_irsocadminv5:h3irs:h3irs_InternationalRoamingService_main","tracingid":"436607992960","traceIndented":false},"header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"event":{"name":"callStart","callStart":{"cause":"NONE","contact":{"scheme":"tel","user":"355672001627","parameters":{"network-context":"TS24008.1.1"}},"leg":{"scheme":"tel","user":"436607992960","parameters":{"presentation":"0","screening":"3","number-incomplete-ind":"0","network-context":"Q763.4.1"}}},"id":0,"camel":{"networkProtocol":"CAMEL2","locationInformation":"cgid:27601f30760727","charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":2,"tcapEndMode":"PAYLOAD_TC_END","imsi":"232056317208975","disconnectedFlag":false,"extnTeleServiceCode":"11","rawBearerCapability":"8090A3"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990081523","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1721733724145,"networkCallType":"ORIGINATING","mediaType":"AUDIO","callReleaseTime":0,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"27601124061831","parameters":{"internal-net-number-ind":"1","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"355680200009","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":2,"highLayerCharacteristics":-1,"callReferenceNumber":"428D5B0001"}},"event-label-match":false,"callid":"tt-b52-vtas3-seese-0003_1-1721733724146-CALL-1-AppSess-66","starttime":1721733724147,"event-type":"camel"},"description":"","entry":"callStart.NONE","timestamp":1721733724156,"state":"114","sequence":1,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(|(romscgt=355680200009)(romscgt=355680200009)(romscgt=35568020000)(romscgt=3556802000)(romscgt=355680200)(romscgt=35568020)(romscgt=3556802)(romscgt=355680)(romscgt=35568)(romscgt=3556)(romscgt=355)(romscgt=35))","time-limit":0,"filter-generator-name":"romscgt","deref":"never","cache-ttl-ms":0,"scope":"one"},"base-dn":"app=mscroaming,dc=apd","hierarchical":"false"},"uri":"/search"},"event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(|(romscgt=355680200009)(romscgt=355680200009)(romscgt=35568020000)(romscgt=3556802000)(romscgt=355680200)(romscgt=35568020)(romscgt=3556802)(romscgt=355680)(romscgt=35568)(romscgt=3556)(romscgt=355)(romscgt=35))","time-limit":0,"filter-generator-name":"romscgt","deref":"never","cache-ttl-ms":0,"scope":"one"},"base-dn":"app=mscroaming,dc=apd","hierarchical":"false"},"uri":"/search"},"description":"LDAP search","entry":"success","timestamp":1721733724166,"state":"342","sequence":5,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"ldap.status.1000","header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"headers":{"X-LDAP-backend-pool":"sit","Content-Type":"application/json","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":1000,"body":[{"natprefix":"NULL","ni":"2","objectClass":["mscroaming"],"voicemailflag":"FALSE","continent":"Europe","labapd":"INITLOAD","mscgt":"35568","videomailflag":"FALSE","roampartnername":"One Telecommunications sh.a","mccmnc":"27601","CountryCode":"355","latapd":"Updated","selectivererouting":"2","capversion":"2","intprefix":"00","reroutingind":"TRUE","dn":"romscgt=35568,app=mscroaming,dc=apd","lawapd":"1677071933927009","timeoffset":"99","reroutingprefix":"4366030381","romscgt":"35568","optimizedroutingflag":"TRUE","tapcode":"ALBAM"}],"event-type":"ldap"},"original-event":{"event-name":"ldap.status.1000","header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"headers":{"X-LDAP-backend-pool":"sit","Content-Type":"application/json","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":1000,"body":[{"natprefix":"NULL","ni":"2","objectClass":["mscroaming"],"voicemailflag":"FALSE","continent":"Europe","labapd":"INITLOAD","mscgt":"35568","videomailflag":"FALSE","roampartnername":"One Telecommunications sh.a","mccmnc":"27601","CountryCode":"355","latapd":"Updated","selectivererouting":"2","capversion":"2","intprefix":"00","reroutingind":"TRUE","dn":"romscgt=35568,app=mscroaming,dc=apd","lawapd":"1677071933927009","timeoffset":"99","reroutingprefix":"4366030381","romscgt":"35568","optimizedroutingflag":"TRUE","tapcode":"ALBAM"}],"event-type":"ldap"},"description":"handle LDAP","entry":"ldap.status.1000","timestamp":1721733724185,"state":"343","sequence":6,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(objectClass=*)","time-limit":0,"deref":"always","cache-ttl-ms":0,"scope":"sub"},"base-dn":"amsisdn=436607992960,type=public,type=alias,dc=cpd4","hierarchical":"false"},"uri":"/search"},"event":{"headers":{"x-fire-and-forget":"no","content-type":"application/json","site-id":"default"},"request-method":"get","body":{"options":{"filter":"(objectClass=*)","time-limit":0,"deref":"always","cache-ttl-ms":0,"scope":"sub"},"base-dn":"amsisdn=436607992960,type=public,type=alias,dc=cpd4","hierarchical":"false"},"uri":"/search"},"description":"LDAP search","entry":"success","timestamp":1721733724199,"state":"273","sequence":10,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"ldap.status.32","header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"headers":{"X-LDAP-backend-pool":"sit","X-LDAP-explain":"no such object","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":32,"body":[],"event-type":"ldap"},"original-event":{"event-name":"ldap.status.32","header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"headers":{"X-LDAP-backend-pool":"sit","X-LDAP-explain":"no such object","X-LDAP-site":"default"},"ingress-queue":"h3irs_LdapClientGW_ingress","status":32,"body":[],"event-type":"ldap"},"description":"Terminate call","entry":"ldap.status.32","timestamp":1721733724212,"state":"309","sequence":11,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"read","fn":"\n/**\n * it is used to implement checks to declare if step was successful or not\n * @param state {Object} state structure, contains at least field session\n * @param event {Object} the event received\n * @return {Boolean} true if step is to be declared successful\n */\nfunction validate(state,event){\n  // it does nothing for now, add your own validation; you have access to state as it was populated from previous steps\n  return true;\n}\n","original-event":{"event-name":"tas.cap.abortCall","as":null,"id":0,"callid":"tt-b52-vtas3-seese-0003_1-1721733724146-CALL-1-AppSess-66","action":{"type":0,"cause":"REJECTED"},"eventname":"callStart","starttime":1721733724147,"event-type":"tas-cap"},"event":{"event-name":"tas.cap.abortCall","as":null,"id":0,"callid":"tt-b52-vtas3-seese-0003_1-1721733724146-CALL-1-AppSess-66","action":{"type":0,"cause":"REJECTED"},"eventname":"callStart","starttime":1721733724147,"event-type":"tas-cap"},"description":"Terminate call","entry":"ldap.status.32","timestamp":1721733724212,"state":"309","sequence":11,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"},{"type":"write","fn":"\n/**\n * Here you can change the event before it is sent using also the state accumulated so far.\n * @param state {Object} state structure, contains at least field session; you can add to it to propagate state from test step to test step\n * @param event {Object} the event to be sent.\n * @return {Object} the event to be sent\n */\nfunction pre_process(state,event){\n  // it does nothing, it is up to you to add some meaningful actions; most likely you want to change the event before being sent\n  // the application adds session field to event automatically, you don't need to add it\n  return event;\n}\n","event":{"event-name":"callEnd","as":"tt-b52-vtas3-seese-0003_1","header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"event":{"name":"callEnd","id":1,"camel":{"networkProtocol":"CAMEL2","locationInformation":"cgid:27601f30760727","charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":2,"tcapEndMode":"PAYLOAD_TC_END","imsi":"232056317208975","disconnectedFlag":false,"extnTeleServiceCode":"11","rawBearerCapability":"8090A3"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990081523","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1721733724145,"networkCallType":"ORIGINATING","mediaType":"AUDIO","callReleaseTime":1721733724218,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"27601124061831","parameters":{"internal-net-number-ind":"1","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"355680200009","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":2,"highLayerCharacteristics":-1,"callReferenceNumber":"428D5B0001"},"callEnd":{"cause":"REJECTED"}},"callid":"tt-b52-vtas3-seese-0003_1-1721733724146-CALL-1-AppSess-66","starttime":1721733724218,"event-type":"camel"},"original-event":{"event-name":"callEnd","as":"tt-b52-vtas3-seese-0003_1","header":{"overloadedQueueList":["queue-db/h3irs_CdrGW_ingress"]},"event":{"name":"callEnd","id":1,"camel":{"networkProtocol":"CAMEL2","locationInformation":"cgid:27601f30760727","charging":{"usedUnits":[{"tariffTimeChange":0,"amount":0,"unit":"TIME_MILLISECONDS","tariffChangeUsage":"NOT_APPLICABLE","direction":"NOT_APPLICABLE","reportingReason":null}]},"gsmFwdPending":false,"vlrAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"cs":{"lastNetworkEvent":2,"tcapEndMode":"PAYLOAD_TC_END","imsi":"232056317208975","disconnectedFlag":false,"extnTeleServiceCode":"11","rawBearerCapability":"8090A3"},"cgPaCategory":10,"sccpCdPa":{"scheme":"gt","user":"436990081523","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"mscAddress":{"scheme":"tel","user":"355680200009","parameters":{"network-context":"TS29002.1.1"}},"common":{"networkTimeZoneOffSet":0,"callAttemptTime":1721733724145,"networkCallType":"ORIGINATING","mediaType":"AUDIO","callReleaseTime":1721733724218,"serviceKey":"20","connectionTimeout":-1,"callConnectedTime":0},"locationNumber":{"scheme":"tel","user":"27601124061831","parameters":{"internal-net-number-ind":"1","network-context":"Q763.4.1"}},"sccpCgPa":{"scheme":"gt","user":"355680200009","parameters":{"gt-ind":"4","gt-trans-type":"0","network-context":"Q713.4.1"}},"bearerServiceCode":-1,"eventTypeBCSM":2,"highLayerCharacteristics":-1,"callReferenceNumber":"428D5B0001"},"callEnd":{"cause":"REJECTED"}},"callid":"tt-b52-vtas3-seese-0003_1-1721733724146-CALL-1-AppSess-66","starttime":1721733724218,"event-type":"camel"},"description":"Stop","entry":"callEnd","timestamp":1721733724224,"state":"261","sequence":12,"service":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main","flow":"ocadminv5:h3irs:h3irs_InternationalRoamingService_main"}],"flow":"h3irs_InternationalRoamingService_main","state":{},"description":"Real Mobile Trace, MO call from albania - subscriber not found","tags":"RTEv5,RealMobile,MO"}