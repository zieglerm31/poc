"use strict";
function formatDate(date) {
    var ret = date.getFullYear().toString() + ("00" + (date.getMonth() + 1).toString()).slice(-2) + ("00" + (date.getDate()).toString()).slice(-2);
    return ret;
}
function formatTime(date) {
    var ret = ("00" + date.getHours().toString()).slice(-2) + ("00" + date.getMinutes().toString()).slice(-2) + ("00" + date.getSeconds().toString()).slice(-2);
    return ret;
}
function sleepfunction(date) {
    java.lang.Thread.sleep(999);
    return "success";
}
function prettytrace(session, event, localParams) {
    var log = session.log;
    var now = new Date();
    var logDate = formatDate(now);
    var logTime = formatTime(now);
    try {
        if (session["fsm-trace-level"] > 0) {
            if (event["event-additional-info"] != null) {
                session["trace-skey"] = event["event-additional-info"]["tracingid"];
                session["trace-type"] = logDate + "-" + logTime + "_" + event["event-additional-info"]["tracingmsg"];
            }
            else {
                session["trace-type"] = logDate + "-" + logTime + "_MissingStagingInfo";
            }
            if (session["trace-type"] == "random") {
                session["fsm-trace-level"] = 2;
            }
            else {
                session["fsm-trace-level"] = 2;
            }
        }
    }
    catch (e) {
        log.error("get_checkHF:Error adding trace details: {}", e);
    }
}
function saveevent(session, event, localParams) {
    session.s_savedevent = event;
    var now = new Date();
    var logDate = formatDate(now);
    var logTime = formatTime(now);
    try {
        if (session["fsm-trace-level"] > 0) {
            if (event["event-additional-info"] != null) {
                session["trace-skey"] = event["event-additional-info"]["tracingid"];
                session["trace-type"] = logDate + "-" + logTime + "_" + event["event-additional-info"]["tracingmsg"];
            }
            else {
                session["trace-type"] = logDate + "-" + logTime + "_MissingStagingInfo";
            }
            if (session["trace-type"] == "random") {
                session["fsm-trace-level"] = 2;
            }
            else {
                session["fsm-trace-level"] = 2;
            }
        }
    }
    catch (e) {
        log.error("get_checkHF:Error adding trace details: {}", e);
    }
}
;
;
function dump_in_rtelog(session, event, localParams) {
    var log = session.log;
    log.error("DropByDispatcher_Session: {}, ", session);
    log.error("DropByDispatcher_Event: {}, ", event);
    var now = new Date();
    var logDate = formatDate(now);
    var logTime = formatTime(now);
    try {
        if (event["event-additional-info"] != null) {
            session["trace-skey"] = event["event-additional-info"]["tracingid"];
            session["trace-type"] = logDate + "-" + logTime + "_" + event["event-additional-info"]["tracingmsg"];
        }
        else {
            session["trace-type"] = logDate + "-" + logTime + "_MissingStagingInfo";
        }
        if (session["trace-type"] == "random") {
            session["fsm-trace-level"] = 2;
        }
        else {
            session["fsm-trace-level"] = 2;
        }
    }
    catch (e) {
        log.error("get_checkHF:Error adding trace details: {}", e);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFHQSxTQUFTLFVBQVUsQ0FBQyxJQUFXO0lBQzNCLElBQUksR0FBRyxHQUFhLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsR0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNySixPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUM7QUFFRCxTQUFTLFVBQVUsQ0FBQyxJQUFXO0lBQzNCLElBQUksR0FBRyxHQUFhLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxHQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hLLE9BQU8sR0FBRyxDQUFDO0FBQ2YsQ0FBQztBQUdELFNBQVMsYUFBYSxDQUFDLElBQVc7SUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRTVCLE9BQU8sU0FBUyxDQUFDO0FBQ3JCLENBQUM7QUFFRCxTQUFTLFdB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QUFHLENBQUMsS0FBSyxDQUFDLGdDQUFnQyxFQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3BELEdBQUcsQ0FBQyxLQUFLLENBQUMsOEJBQThCLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFJaEQsSUFBSSxHQUFHLEdBQVUsSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUM1QixJQUFJLE9BQU8sR0FBWSxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsSUFBSSxPQUFPLEdBQVksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLElBQUk7UUFDSSxJQUFJLEtBQUssQ0FBQyx1QkFBdUIsQ0FBQyxJQUFFLElBQUksRUFBRTtZQUN0QyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsS0FBSyxDQUFDLHVCQUF1QixDQUFDLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDcEUsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLE9BQU8sR0FBQyxHQUFHLEdBQUUsT0FBTyxHQUFDLEdBQUcsR0FBQyxLQUFLLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUNqRzthQUFPO1lBQ0osT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLE9BQU8sR0FBQyxHQUFHLEdBQUUsT0FBTyxHQUFDLHFCQUFxQixDQUFDO1NBQ3RFO1FBQ0QsSUFBSSxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksUUFBUSxFQUFFO1lBR25DLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNsQzthQUFNO1lBQ0gsT0FBTyxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ2xDO0tBQ1I7SUFBQyxPQUFPLENBQUMsRUFBRTtRQUNSLEdBQUcsQ0FBQyxLQUFLLENBQUMsNENBQTRDLEVBQUMsQ0FBQyxDQUFDLENBQUM7S0FDN0Q7QUFDTCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKiogbGliIGNvZGUgKi9cblxuZnVuY3Rpb24gZm9ybWF0RGF0ZShkYXRlIDogRGF0ZSkgOiBzdHJpbmcge1xuICAgIGxldCByZXQgOiBzdHJpbmcgID0gZGF0ZS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkgKyAoXCIwMFwiICsgKGRhdGUuZ2V0TW9udGgoKSsxKS50b1N0cmluZygpKS5zbGljZSgtMikgKyAoXCIwMFwiKyhkYXRlLmdldERhdGUoKSkudG9TdHJpbmcoKSkuc2xpY2UoLTIpO1xuICAgIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFRpbWUoZGF0ZSA6IERhdGUpIDogc3RyaW5nIHtcbiAgICBsZXQgcmV0IDogc3RyaW5nICA9IChcIjAwXCIrZGF0ZS5nZXRIb3VycygpLnRvU3RyaW5nKCkpLnNsaWNlKC0yKSArIChcIjAwXCIrZGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpICsgKFwiMDBcIitkYXRlLmdldFNlY29uZHMoKS50b1N0cmluZygpKS5zbGljZSgtMik7XG4gICAgcmV0dXJuIHJldDtcbn1cblxuXG5mdW5jdGlvbiBzbGVlcGZ1bmN0aW9uKGRhdGUgOiBEYXRlKSA6IHN0cmluZyB7XG4gICAgamF2YS5sYW5nLlRocmVhZC5zbGVlcCg5OTkpO1xuXG4gICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xufVxuXG5mdW5jdGlvbiBwcmV0dHl0cmFjZShzZXNzaW9uOmFueSxldmVudDphbnksbG9jYWxQYXJhbXM6YW55KTogYW55IHtcbiAgICBsZXQgbG9nIDogYW55ID0gc2Vzc2lvbi5sb2c7XG4gICAgXG4gICAgLy9zZXQgcHJldHR5IHRyYWNpbmcgaW5mby4gVGhpcyBzaGFsbCBiZSBpbiB0aGUgZmlyc3QgbGlicmFyeSBhZnRlciBtYWluXG4gICAgbGV0IG5vdyA6IERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBsb2dEYXRlIDogc3RyaW5nID0gZm9ybWF0RGF0ZShub3cpO1xuICAgIGxldCBsb2dUaW1lIDogc3RyaW5nID0gZm9ybWF0VGltZShub3cpO1xuICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbltcImZzbS10cmFjZS1sZXZlbFwiXSA+IDApIHtcbiAgICAgICAgICAgICAgICAvL29ubHkgaW5jcmVhc2UgdHJhY2UgaWYgZW5hYmxlZCBieSBTdGFydCBoYW5kbGVyIChyYW5kb20gb3IgbGlzdCBiYXNlZClcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRbXCJldmVudC1hZGRpdGlvbmFsLWluZm9cIl0hPW51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcInRyYWNlLXNrZXlcIl0gPSBldmVudFtcImV2ZW50LWFkZGl0aW9uYWwtaW5mb1wiXVtcInRyYWNpbmdpZFwiXTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPSBsb2dEYXRlK1wiLVwiKyBsb2dUaW1lK1wiX1wiK2V2ZW50W1wiZXZlbnQtYWRkaXRpb25hbC1pbmZvXCJdW1widHJhY2luZ21zZ1wiXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPSBsb2dEYXRlK1wiLVwiKyBsb2dUaW1lK1wiX01pc3NpbmdTdGFnaW5nSW5mb1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPT0gXCJyYW5kb21cIikge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSByYW5kb20gdHJhY2UgLSBzZXQgdGhlIHZhbHVlIGZyb20gZGVmYXVsdCAxIHRvIDIuIG5vdCBwb3NzaWJsZSB0byBnZXQgaXQgZnJvbSBVSVIgYXMgdGhpcyBpcyBsYXRlciBpbiB0aGUgZmxvdy4gbWF5YmUgY291bGQgY2hhbmdlIGluIGxhdGVyIGJ1dCBub3QgY29uc2lkZXJlZCB5ZXRcbiAgICAgICAgICAgICAgICAgICAgLy9cImZzbS10cmFjZS1sZXZlbFwiIGZpZWxkIGluIHRoZSBzZXNzaW9uIHRvIGVpdGhlciAwIChiYXNpYyksIDEgKGludGVybWVkaWF0ZSkgb3IgMiAoaGlnaCk7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25bXCJmc20tdHJhY2UtbGV2ZWxcIl0gPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25bXCJmc20tdHJhY2UtbGV2ZWxcIl0gPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihcImdldF9jaGVja0hGOkVycm9yIGFkZGluZyB0cmFjZSBkZXRhaWxzOiB7fVwiLGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2F2ZWV2ZW50KHNlc3Npb246YW55LGV2ZW50OmFueSxsb2NhbFBhcmFtczphbnkpOiBhbnkge1xuICAgIHNlc3Npb24uc19zYXZlZGV2ZW50ID0gZXZlbnQ7XG5cbiAgICAvLyBhcyB0aGlzIGlzIHVzZWQgZm9yIFNJUC5PUFRJT05TXG4gICAgLy9zZXQgcHJldHR5IHRyYWNpbmcgaW5mby4gVGhpcyBzaGFsbCBiZSBpbiB0aGUgZmlyc3QgbGlicmFyeSBhZnRlciBtYWluXG4gICAgbGV0IG5vdyA6IERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBsb2dEYXRlIDogc3RyaW5nID0gZm9ybWF0RGF0ZShub3cpO1xuICAgIGxldCBsb2dUaW1lIDogc3RyaW5nID0gZm9ybWF0VGltZShub3cpO1xuICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbltcImZzbS10cmFjZS1sZXZlbFwiXSA+IDApIHtcbiAgICAgICAgICAgICAgICAvL29ubHkgaW5jcmVhc2UgdHJhY2UgaWYgZW5hYmxlZCBieSBTdGFydCBoYW5kbGVyIChyYW5kb20gb3IgbGlzdCBiYXNlZClcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRbXCJldmVudC1hZGRpdGlvbmFsLWluZm9cIl0hPW51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcInRyYWNlLXNrZXlcIl0gPSBldmVudFtcImV2ZW50LWFkZGl0aW9uYWwtaW5mb1wiXVtcInRyYWNpbmdpZFwiXTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPSBsb2dEYXRlK1wiLVwiKyBsb2dUaW1lK1wiX1wiK2V2ZW50W1wiZXZlbnQtYWRkaXRpb25hbC1pbmZvXCJdW1widHJhY2luZ21zZ1wiXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPSBsb2dEYXRlK1wiLVwiKyBsb2dUaW1lK1wiX01pc3NpbmdTdGFnaW5nSW5mb1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPT0gXCJyYW5kb21cIikge1xuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSByYW5kb20gdHJhY2UgLSBzZXQgdGhlIHZhbHVlIGZyb20gZGVmYXVsdCAxIHRvIDIuIG5vdCBwb3NzaWJsZSB0byBnZXQgaXQgZnJvbSBVSVIgYXMgdGhpcyBpcyBsYXRlciBpbiB0aGUgZmxvdy4gbWF5YmUgY291bGQgY2hhbmdlIGluIGxhdGVyIGJ1dCBub3QgY29uc2lkZXJlZCB5ZXRcbiAgICAgICAgICAgICAgICAgICAgLy9cImZzbS10cmFjZS1sZXZlbFwiIGZpZWxkIGluIHRoZSBzZXNzaW9uIHRvIGVpdGhlciAwIChiYXNpYyksIDEgKGludGVybWVkaWF0ZSkgb3IgMiAoaGlnaCk7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25bXCJmc20tdHJhY2UtbGV2ZWxcIl0gPSAyO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25bXCJmc20tdHJhY2UtbGV2ZWxcIl0gPSAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihcImdldF9jaGVja0hGOkVycm9yIGFkZGluZyB0cmFjZSBkZXRhaWxzOiB7fVwiLGUpO1xuICAgIH0gICAgXG59XG5cbjsvL01BSU5CTE9DS1xuOy8qKiBsaWIgY29kZSAqL1xuXG5mdW5jdGlvbiBkdW1wX2luX3J0ZWxvZyAoc2Vzc2lvbjphbnksZXZlbnQ6YW55LGxvY2FsUGFyYW1zOmFueSk6IGFueSB7XG4gICAgbGV0IGxvZyA6IGFueSA9IHNlc3Npb24ubG9nO1xuXG4gICAgbG9nLmVycm9yKFwiRHJvcEJ5RGlzcGF0Y2hlcl9TZXNzaW9uOiB7fSwgXCIsc2Vzc2lvbik7XG4gICAgbG9nLmVycm9yKFwiRHJvcEJ5RGlzcGF0Y2hlcl9FdmVudDoge30sIFwiLGV2ZW50KTtcblxuXG4gICAgLy9zZXQgcHJldHR5IHRyYWNpbmcgaW5mby4gVGhpcyBzaGFsbCBiZSBpbiB0aGUgZmlyc3QgbGlicmFyeSBhZnRlciBtYWluXG4gICAgbGV0IG5vdyA6IERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGxldCBsb2dEYXRlIDogc3RyaW5nID0gZm9ybWF0RGF0ZShub3cpO1xuICAgIGxldCBsb2dUaW1lIDogc3RyaW5nID0gZm9ybWF0VGltZShub3cpO1xuICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoZXZlbnRbXCJldmVudC1hZGRpdGlvbmFsLWluZm9cIl0hPW51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uW1widHJhY2Utc2tleVwiXSA9IGV2ZW50W1wiZXZlbnQtYWRkaXRpb25hbC1pbmZvXCJdW1widHJhY2luZ2lkXCJdO1xuICAgICAgICAgICAgICAgIHNlc3Npb25bXCJ0cmFjZS10eXBlXCJdID0gbG9nRGF0ZStcIi1cIisgbG9nVGltZStcIl9cIitldmVudFtcImV2ZW50LWFkZGl0aW9uYWwtaW5mb1wiXVtcInRyYWNpbmdtc2dcIl07XG4gICAgICAgICAgICB9IGVsc2UgIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uW1widHJhY2UtdHlwZVwiXSA9IGxvZ0RhdGUrXCItXCIrIGxvZ1RpbWUrXCJfTWlzc2luZ1N0YWdpbmdJbmZvXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbltcInRyYWNlLXR5cGVcIl0gPT0gXCJyYW5kb21cIikge1xuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIHJhbmRvbSB0cmFjZSAtIHNldCB0aGUgdmFsdWUgZnJvbSBkZWZhdWx0IDEgdG8gMi4gbm90IHBvc3NpYmxlIHRvIGdldCBpdCBmcm9tIFVJUiBhcyB0aGlzIGlzIGxhdGVyIGluIHRoZSBmbG93LiBtYXliZSBjb3VsZCBjaGFuZ2UgaW4gbGF0ZXIgYnV0IG5vdCBjb25zaWRlcmVkIHlldFxuICAgICAgICAgICAgICAgIC8vXCJmc20tdHJhY2UtbGV2ZWxcIiBmaWVsZCBpbiB0aGUgc2Vzc2lvbiB0byBlaXRoZXIgMCAoYmFzaWMpLCAxIChpbnRlcm1lZGlhdGUpIG9yIDIgKGhpZ2gpO1xuICAgICAgICAgICAgICAgIHNlc3Npb25bXCJmc20tdHJhY2UtbGV2ZWxcIl0gPSAyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uW1wiZnNtLXRyYWNlLWxldmVsXCJdID0gMjtcbiAgICAgICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5lcnJvcihcImdldF9jaGVja0hGOkVycm9yIGFkZGluZyB0cmFjZSBkZXRhaWxzOiB7fVwiLGUpO1xuICAgIH1cbn1cbiJdfQ==